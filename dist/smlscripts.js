let pokemonRepository=function(){let e=[],t="https://pokeapi.co/api/v2/pokemon/?limit=150";function n(t){e.push(t)}function o(e,t){e.addEventListener("click",function(e){a(t)})}function a(e){d(e).then(function(){s(e)})}function d(e){i();let t=e.detailsUrl;return fetch(t).then(function(e){return e.json()}).then(function(t){l(),e.imageUrl=t.sprites.front_default,e.height=t.height,e.id=t.id,e.type1=t.types[0].type.name;try{e.type2=t.types[1].type.name}catch(e){console.error(e)}}).catch(function(e){l(),console.error(e)})}function i(e){loadingMessage=document.querySelector("#loadring"),loadingMessage.classList.contains("hidden")&&loadingMessage.classList.remove("hidden")}function l(){loadingMessage=document.querySelector("#loadring"),loadingMessage.classList.contains("hidden")||$(loadingMessage).addClass("hidden")}function s(t){let n=$(".modal"),o=$(".modal-title"),d=$(".modal-body");d.empty(),o.empty();let i=document.createElement("h1");i.innerText=t.name,$(i).addClass("modal-pokeTitle");let l=document.createElement("div");l.innerHTML="<img src = '"+t.imageUrl+"' />",$(l).addClass("modal-pokePic");let s=document.createElement("p");s.innerText="id: "+t.id,$(s).addClass("modal-pokeId");let r=document.createElement("p");r.innerText="height: "+t.height,$(r).addClass("modal-pokeHeight");let p=document.createElement("p");t.type2?p.innerText="type: "+t.type1+", "+t.type2:p.innerText="type: "+t.type1,$(p).addClass("modal-pokeType");let c=document.createElement("button");$(c).addClass("modal-arrowright btn"),c.innerText="next",c.addEventListener("click",()=>{pokePosition=t.id,150===pokePosition&&(pokePosition=0),d.empty(),o.empty(),a(e[pokePosition])});let m=document.createElement("button");$(m).addClass("modal-arrowleft btn"),m.innerText="previous",m.addEventListener("click",()=>{pokePosition=t.id-2,pokePosition<0&&(pokePosition=149),d.empty(),o.empty(),console.log(pokePosition),a(e[pokePosition])});let u=document.createElement("div");$(u).addClass("modal-arrowdiv");let g=document.createElement("span");$(g).addClass("modal-arrow-div-right");let h=document.createElement("span");$(h).addClass("modal-arrow-div-left"),o.append(i),d.append(l),d.append(u),h.append(m),g.append(c),u.append(g),u.append(h),d.append(s),d.append(r),d.append(p),modalContainer.append(n)}return{add:n,getAll:function(){return e},addListItem:function(e){let t=document.querySelector(".pokemon-page-list"),n=document.createElement("li"),a=document.createElement("button"),d=e.name;a.innerText=e.name,$(a).addClass("button2class btn btn-info btn-lg"),$(n).addClass("list-group-item"),$(n).attr("id",d),a.setAttribute("data-toggle","modal"),a.setAttribute("data-target","#pokemonModal"),a.dataset.target="#pokemon-modal",n.appendChild(a),t.appendChild(n),o(a,e)},showDetails:a,buttonListener:o,loadList:function(){return i(),fetch(t).then(function(e){return e.json()}).then(function(e){l(),e.results.forEach(function(e){n({name:e.name,detailsUrl:e.url})})}).catch(function(e){l(),console.error(e)})},loadDetails:d,showLoadingMessage:i,hideLoadingMessage:l,showModal:s}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(pokemonRepository.addListItem)}),balsl,balss;